# Chapter02 ヘルプ・マニュアルを使う

コマンドの使い方は，Linuxシステムにインストールされておりすぐに調べることができる．
インターネットで検索するのも1つの方法であるが，まずはヘルプやマニュアルを調べる習慣をつけるとよい．
主な理由は下記の通りである．

- 公式が提供する使い方なので非常に正確である
- オフラインでその場ですぐに見ることができる
- 今使用中のバージョンにおけるコマンドの使い方を見ることができる

最初は慣れないかもしれないが，分からない点が出てきたら，まずはヘルプ・マニュアルを見るようにし，それでも分からない場合はインターネットで検索するようにする．

## 2.1 ヘルプを使う

Linuxの多くのコマンドで，`--help`オプションを使うことで，コマンドのヘルプメッセージを見ることができる．

```bash
<コマンド> --help
```

多くのヘルプメッセージには下記の内容が記載されている．

- 使用方法(オプションなど)
- コマンドの概要
- 利用可能なオプションとその意味
- その他の参考資料の紹介

例：`rm`コマンドのヘルプ(Ubuntuは日本語環境)

```bash
rm --help
```

```txt
使用法: rm [オプション]... [ファイル]...
FILE を削除 (unlink) する．

  -f, --force           存在しないファイルを無視する．確認も行わない
  -i                    削除の前に確認を行う
  -I                    3個を超えるファイルを削除するか，ディレクトリを再帰的に
                        削除する場合は一度だけ確認をする．
                        多くの間違いを防ぎながらも
                        -i よりは確認回数が少なくなる
      --interactive[=WHEN]  WHENに指定した時に確認を行う．WHENは次の通り:
                            never, once(-I)またはalways(-i)．
                            WHENを省略した場合はalwaysとみなす
      --one-file-system  階層を再帰的に削除するときに，コマンドライン引数と
                        異なったファイルシステムにあるディレクトリをスキップする
      --no-preserve-root  '/'を特別なものとして扱わない
      --preserve-root[=all]  '/'を削除しない(デフォルト)；
                              'all'が指定された場合，親と異なるデバイスに
                              存在するコマンドライン引数を拒否する
  -r, -R, --recursive   ディレクトリとその中身を再帰的に削除する
  -d, --dir             空のディレクトリを削除する
  -v, --verbose         何を行っているかを表示する
      --help     この使い方を表示して終了する
      --version  バージョン情報を表示して終了する

デフォルトではrmはディレクトリを削除しない．
ディレクトリをその中身全てを含めて削除するときには--recursive(-rまたは-R)オプションを使用する．

'-'で始まる名前のファイルを削除するには，例えば'-foo'というファイルなら
次のコマンドを使う：
  rm -- -foo
  rm ./-foo

ファイルの削除にrmを使った場合，十分な専門性と時間があれば，ファイル内容の一部を復元できるかもしれないことに留意する．もしファイル内容を本当に復元不可能にする保証を得たければ，shredの利用を考える．

GNU coreutilsのオンラインヘルプ: <https://www.gnu.org/software/coreutils/>
翻訳に関するバグは<https://translationproject.org/team/ja.html>に連絡する．
詳細な文書<https://www.gnu.org/software/coreutils/rm>
(ローカルではinfo '(coreutils) rm invocation'で参照可能)．
```

## 2.2 マニュアルを使う

マニュアルを使うには，`man`コマンドを用いる．ヘルプよりも詳細に記載されている．コマンドの詳しい使い方を知りたい場合，マニュアルを読むとよい．

```bash
man <コマンド>
```

マニュアルには主に下記の内容が記載されている．

- 名前
  - コマンドの名前
- 書式
  - オプションや引数などの使い方
- 説明
  - コマンドに関する詳細な説明
- 関連項目
  - 関係のある，または動作が似ているコマンドについて
- 注意
  - 注意事項やバグの報告先など

コマンドの名前が分からない場合，`-k`オプションを使うことで，キーワード検索ができる．

```bash
man -k <キーワード>
```

### 補足 マニュアルのセクション

マニュアルは分野ごとにセクションに分けられている．

例えば，`ls`コマンドのマニュアルを見ると，先頭に"LS(1)"という文字が付いている．

マニュアルのセクションは下記の9個に分けられる．

| セクション番号 | 内容 |
| --- | --- |
| 1 | 実行プログラムまたはシェルコマンド |
| 2 | システムコール(kernelが提供する関数) |
| 3 | ライブラリ呼び出し(プログラムライブラリに含まれる関数) |
| 4 | Special files(通常は`/dev`に存在) |
| 5 | ファイル形式と規約(例:`/etc/passwd`) |
| 6 | ゲーム |
| 7 | その他(マクロパッケージや規約など)例:man(7), groff(7), man-pages(7) |
| 8 | システム管理コマンド(通常はroot用) |
| 9 | カーネルルーチン[非標準] |